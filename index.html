<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <title>SGB - Sistema de Gestão do BOPE</title>
  <link rel="icon" href="favicon.ico" type="image/x-icon" />
  <style>
    body {
      background-color: #000;
      color: #bbb;
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 0;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
    }

    /* Cabeçalho fixo */
    header {
      position: fixed;
      top: 0;
      width: 100%;
      max-width: 900px;
      background-color: #111;
      border-bottom: 1px solid #333;
      display: flex;
      align-items: center;
      gap: 10px;
      padding: 10px 20px;
      box-sizing: border-box;
      z-index: 1000;
    }

    header img {
      width: 32px;
      height: 32px;
      display: block;
    }

    header h1 {
      color: #bbb;
      font-size: 1.3rem;
      margin: 0;
      font-weight: bold;
      user-select: none;
    }

    nav {
      background-color: #111;
      padding: 60px 20px 15px; /* padding-top aumentado pra não esconder pelo fixed header */
      width: 100%;
      max-width: 900px;
      display: flex;
      justify-content: center;
      gap: 15px;
      flex-wrap: wrap;
      box-sizing: border-box;
    }
    nav button {
      background-color: #222;
      color: #bbb;
      border: 2px solid #444;
      padding: 12px 22px;
      cursor: pointer;
      font-weight: bold;
      border-radius: 8px;
      transition: background-color 0.3s, color 0.3s, border-color 0.3s;
      min-width: 100px;
      text-align: center;
    }
    nav button.active,
    nav button:hover {
      background-color: #444;
      color: #eee;
      border-color: #888;
    }
    main {
      background-color: #111;
      width: 100%;
      max-width: 900px;
      margin-top: 20px;
      padding: 20px 25px;
      box-sizing: border-box;
      border-radius: 10px;
      flex-grow: 1;
      display: flex;
      flex-direction: column;
      align-items: center;
      color: #bbb;
      margin-bottom: 30px;
    }
    h2 {
      color: #bbb;
      margin-top: 0;
      text-align: center;
    }
    .quadro {
      background: #222;
      border: 1px solid #333;
      padding: 15px 20px;
      margin-bottom: 20px;
      border-radius: 10px;
      width: 100%;
      box-sizing: border-box;
    }
    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 10px;
      color: #bbb;
    }
    th, td {
      border: 1px solid #444;
      padding: 8px;
      text-align: left;
    }
    a {
      color: #bbb;
      text-decoration: none;
    }
    a:hover {
      text-decoration: underline;
      color: #eee;
    }
    label {
      display: block;
      margin-top: 12px;
      font-weight: normal;
      color: #bbb;
      text-align: left;
    }
    input, select, textarea {
      width: 100%;
      max-width: 350px;
      padding: 7px;
      margin-top: 5px;
      background-color: #222;
      border: 1px solid #444;
      border-radius: 6px;
      color: #bbb;
      font-size: 14px;
      box-sizing: border-box;
    }
    button.submit-btn {
      margin-top: 15px;
      background-color: #333;
      color: #bbb;
      border: 1px solid #555;
      padding: 10px 20px;
      border-radius: 8px;
      cursor: pointer;
      transition: background-color 0.3s, color 0.3s;
    }
    button.submit-btn:hover {
      background-color: #555;
      color: #eee;
    }
    .table-container {
      width: 100%;
      overflow-x: auto;
    }
  </style>
</head>
<body>

<header>
  <img src="favicon.ico" alt="Ícone SGB" />
  <h1>SGB - SISTEMA DE GESTÃO DO BOPE</h1>
</header>

<nav>
  <button id="btnDashboard" class="active">PERMANÊNCIA</button>
  <button id="btnEfetivo">Efetivo</button>
  <button id="btnEscala">Escala</button>
  <button id="btnManutencao">Manutenção</button>
  <button id="btnPermutas">Permutas</button>
</nav>

<main id="conteudo">
  <!-- Conteúdo dinâmico -->
</main>

<script>
  const conteudo = document.getElementById('conteudo');
  const botoes = document.querySelectorAll('nav button');

  const escalaDoDia = [
    { patente: "1° TENENTE", nome: "Edivaldo Holanda", telefone: "(99) 99999-0001" },
    { patente: "Sargento", nome: " Mr. Bean", telefone: "(99) 99999-0002" },
    { patente: "Soldado", nome: "Chibata", telefone: "(99) 99999-0003" },
  ];

  function carregarDashboard() {
    conteudo.innerHTML = `
      <section id="dashboard" style="width: 100%;">
        <div class="quadro" id="palavrasComandante">
          <h2>Palavras do Comandante</h2>
          <p style="text-align:center;">"Disciplina e coragem são o alicerce da nossa força.-Maj. QOPM Moraes"</p>
        </div>
        <div class="quadro" id="quadroAvisos">
          <h2>Avisos</h2>
          <ul>
            <li>Todos os operadores devem mandar sua foto 3x4 para atualizarmos o cadastro dos servidores.-Cap. QOPM Vinicius/p1-BOPE.</li>
            <li>Atualização da escala de serviço disponível.</li>
            <li>Entrega de equipamentos até sexta-feira.</li>
          </ul>
        </div>
        <div class="quadro" id="escalaDia">
          <h2>Escala do Dia</h2>
          <div class="table-container">
          <table>
            <thead>
              <tr><th>Patente</th><th>Nome de Guerra</th><th>Telefone</th></tr>
            </thead>
            <tbody id="listaEscalaDia"></tbody>
          </table>
          </div>
        </div>
        <div class="quadro" id="linkInstagram">
          <h2>Instagram do BOPE</h2>
          <p style="text-align:center;"><a href="https://www.instagram.com/bopeoficial" target="_blank" rel="noopener noreferrer">https://www.instagram.com/bopeoficial</a></p>
        </div>
      </section>
    `;
    const tbody = document.getElementById('listaEscalaDia');
    escalaDoDia.forEach(militar => {
      const tr = document.createElement('tr');
      tr.innerHTML = `<td>${militar.patente}</td><td>${militar.nome}</td><td>${militar.telefone}</td>`;
      tbody.appendChild(tr);
    });
  }

  function limparAtivo() {
    botoes.forEach(b => b.classList.remove('active'));
  }

  // -- Efetivo --
  function carregarEfetivo() {
    conteudo.innerHTML = `
      <h2>Efetivo</h2>
      <p>Gerencie os militares da tropa.</p>
      <label>Nome de Guerra:
        <input type="text" id="nomeGuerra" />
      </label>
      <label>Patente:
        <input type="text" id="patente" />
      </label>
      <label>Telefone:
        <input type="tel" id="telefone" />
      </label>
      <button class="submit-btn" onclick="adicionarMilitar()">Adicionar Militar</button>
      <div class="table-container">
        <table id="tabelaEfetivo">
          <thead>
            <tr><th>Nome de Guerra</th><th>Patente</th><th>Telefone</th><th>Ações</th></tr>
          </thead>
          <tbody></tbody>
        </table>
      </div>
    `;
    carregarMilitares();
  }

  let militares = JSON.parse(localStorage.getItem('militares') || '[]');

  function adicionarMilitar() {
    const nome = document.getElementById('nomeGuerra').value.trim();
    const patente = document.getElementById('patente').value.trim();
    const telefone = document.getElementById('telefone').value.trim();
    if (!nome || !patente || !telefone) {
      alert('Preencha todos os campos.');
      return;
    }
    militares.push({ nome, patente, telefone });
    salvarMilitares();
    carregarMilitares();
    document.getElementById('nomeGuerra').value = '';
    document.getElementById('patente').value = '';
    document.getElementById('telefone').value = '';
  }

  function carregarMilitares() {
    const tbody = document.querySelector('#tabelaEfetivo tbody');
    tbody.innerHTML = '';
    militares.forEach((militar, i) => {
      const tr = document.createElement('tr');
      tr.innerHTML = `
        <td>${militar.nome}</td>
        <td>${militar.patente}</td>
        <td>${militar.telefone}</td>
        <td><button class="submit-btn" onclick="removerMilitar(${i})">Remover</button></td>
      `;
      tbody.appendChild(tr);
    });
  }

  function removerMilitar(index) {
    militares.splice(index, 1);
    salvarMilitares();
    carregarMilitares();
  }

  function salvarMilitares() {
    localStorage.setItem('militares', JSON.stringify(militares));
  }

  // -- Escala --
  function carregarEscala() {
    conteudo.innerHTML = `
      <h2>Escala</h2>
      <p>Visualize e edite a escala de serviço.</p>
      <textarea id="escalaTexto" rows="10" style="width:100%; background:#222; color:#bbb; border-radius:6px; padding:10px;"></textarea><br/>
      <button class="submit-btn" onclick="salvarEscala()">Salvar Escala</button>
    `;
    document.getElementById('escalaTexto').value = localStorage.getItem('escala') || '';
  }

  function salvarEscala() {
    const escala = document.getElementById('escalaTexto').value;
    localStorage.setItem('escala', escala);
    alert('Escala salva!');
  }

  // -- Manutenção --
  function carregarManutencao() {
    conteudo.innerHTML = `
      <h2>Manutenção</h2>
      <p>Histórico de manutenções.</p>
      <label>Veículo:
        <input type="text" id="veiculo" />
      </label>
      <label>Peça/Tarefa:
        <input type="text" id="peca" />
      </label>
      <label>Data:
        <input type="date" id="dataManutencao" />
      </label>
      <button class="submit-btn" onclick="adicionarManutencao()">Adicionar Manutenção</button>
      <div class="table-container">
        <table id="tabelaManutencao">
          <thead>
            <tr><th>Veículo</th><th>Peça/Tarefa</th><th>Data</th><th>Ações</th></tr>
          </thead>
          <tbody></tbody>
        </table>
      </div>
    `;
    carregarManutencoes();
  }

  let manutencoes = JSON.parse(localStorage.getItem('manutencoes') || '[]');

  function adicionarManutencao() {
    const veiculo = document.getElementById('veiculo').value.trim();
    const peca = document.getElementById('peca').value.trim();
    const data = document.getElementById('dataManutencao').value;
    if (!veiculo || !peca || !data) {
      alert('Preencha todos os campos.');
      return;
    }
    manutencoes.push({ veiculo, peca, data });
    salvarManutencoes();
    carregarManutencoes();
    document.getElementById('veiculo').value = '';
    document.getElementById('peca').value = '';
    document.getElementById('dataManutencao').value = '';
  }

  function carregarManutencoes() {
    const tbody = document.querySelector('#tabelaManutencao tbody');
    tbody.innerHTML = '';
    manutencoes.forEach((m, i) => {
      const tr = document.createElement('tr');
      tr.innerHTML = `
        <td>${m.veiculo}</td>
        <td>${m.peca}</td>
        <td>${m.data}</td>
        <td><button class="submit-btn" onclick="removerManutencao(${i})">Remover</button></td>
      `;
      tbody.appendChild(tr);
    });
  }

  function salvarManutencoes() {
    localStorage.setItem('manutencoes', JSON.stringify(manutencoes));
  }

  function removerManutencao(i) {
    manutencoes.splice(i, 1);
    salvarManutencoes();
    carregarManutencoes();
  }

  // -- Permutas --
  function carregarPermutas() {
    conteudo.innerHTML = `
      <h2>Permutas</h2>
      <p>Solicitação e autorização de permutas.</p>
      <label>Militar 1:
        <input type="text" id="militar1" />
      </label>
      <label>Militar 2:
        <input type="text" id="militar2" />
      </label>
      <label>Data da Permuta:
        <input type="date" id="dataPermuta" />
      </label>
      <label>Autorizado por:
        <input type="text" id="autorizadoPor" />
      </label>
      <button class="submit-btn" onclick="adicionarPermuta()">Solicitar Permuta</button>
      <div class="table-container">
        <table id="tabelaPermutas">
          <thead>
            <tr><th>Militar 1</th><th>Militar 2</th><th>Data</th><th>Autorizado por</th><th>Ações</th></tr>
          </thead>
          <tbody></tbody>
        </table>
      </div>
    `;
    carregarPermutasLista();
  }

  let permutas = JSON.parse(localStorage.getItem('permutas') || '[]');

  function adicionarPermuta() {
    const m1 = document.getElementById('militar1').value.trim();
    const m2 = document.getElementById('militar2').value.trim();
    const data = document.getElementById('dataPermuta').value;
    const autorizado = document.getElementById('autorizadoPor').value.trim();
    if (!m1 || !m2 || !data || !autorizado) {
      alert('Preencha todos os campos.');
      return;
    }
    permutas.push({ m1, m2, data, autorizado });
    salvarPermutas();
    carregarPermutasLista();
    document.getElementById('militar1').value = '';
    document.getElementById('militar2').value = '';
    document.getElementById('dataPermuta').value = '';
    document.getElementById('autorizadoPor').value = '';
  }

  function carregarPermutasLista() {
    const tbody = document.querySelector('#tabelaPermutas tbody');
    tbody.innerHTML = '';
    permutas.forEach((p, i) => {
      const tr = document.createElement('tr');
      tr.innerHTML = `
        <td>${p.m1}</td>
        <td>${p.m2}</td>
        <td>${p.data}</td>
        <td>${p.autorizado}</td>
        <td><button class="submit-btn" onclick="removerPermuta(${i})">Remover</button></td>
      `;
      tbody.appendChild(tr);
    });
  }

  function salvarPermutas() {
    localStorage.setItem('permutas', JSON.stringify(permutas));
  }

  function removerPermuta(i) {
    permutas.splice(i, 1);
    salvarPermutas();
    carregarPermutasLista();
  }

  botoes.forEach(botao => {
    botao.addEventListener('click', () => {
      limparAtivo();
      botao.classList.add('active');

      switch(botao.id) {
        case 'btnDashboard': carregarDashboard(); break;
        case 'btnEfetivo': carregarEfetivo(); break;
        case 'btnEscala': carregarEscala(); break;
        case 'btnManutencao': carregarManutencao(); break;
        case 'btnPermutas': carregarPermutas(); break;
      }
    });
  });

  carregarDashboard();
</script>

</body>
</html>
